



# 第 8 章   脚本、编译与注解处理



## 8.1   Java 平台的脚本机制

霍斯曼教授讲到，**脚本语言（*scripting language*）**是一种通过在运行时解释程序文本，从而……的语言。从各种实际编程语言的情况来看，也确实挺多语言既充当着脚本语言的职务，又担当着解释型语言的角色。但是这二者并非绝对的等号，只是有着很高的重叠性。

脚本语言通常指的是那些主要用于编写自动化任务、系统管理、快速原型设计、网页动态生成和游戏开发等领域的编程语言。这类语言通常具有如下特点：

- 高级抽象：脚本语言通常具有较高的抽象级别，接近自然语言，易于学习和使用。
- 动态类型：变量通常不需要显式声明类型，类型在运行时确定。
- 轻量级：它们可能不需要编译，可以快速执行简单的任务。
- 可嵌入性：许多脚本语言可以被嵌入到其他应用程序中，以便为这些应用程序提供脚本化能力。

常见的脚本语言包括 Python、Perl、Ruby、JavaScript、PHP、Bash 等。

解释型语言是指在执行时由解释器逐行读取并转换成机器代码的语言。与编译型语言（如 C++ 或 Java）不同，编译型语言在执行前需要通过编译器将源代码转换为机器码或中间代码（如 Java 的字节码）。解释型语言的特点包括：

- 动态执行：代码在运行时被解析和执行，而不是在编译时。
- 交互性：解释器通常提供交互式环境，允许用户即时测试代码片段。
- 平台无关性：由于代码是在运行时解释的，解释型语言通常更容易移植到不同的操作系统上。

常见的解释型语言包括 Python、Ruby、JavaScript、PHP、Perl 等。

脚本语言和解释型语言之间的关系在于，许多脚本语言同时也是解释型语言。例如，Python、JavaScript 和 Ruby 都是既可以作为脚本语言使用，又可以被解释执行的语言。然而，并非所有的解释型语言都是脚本语言，也不是所有的脚本语言都必须是解释型的。例如，Java 字节码是由虚拟机解释执行的，但通常不被视为脚本语言，因为它用于构建完整的应用程序，而不是简单的脚本任务。

此外，有些语言虽然主要以编译方式使用，但也提供了解释器，如 Java 和 .NET 框架下的语言，它们可以被看作是半编译半解释的。因此，脚本语言和解释型语言之间的界限并非总是清晰的，而是根据具体场景和定义有所不同。

根据鄙人在工作中做过以用户输入 JavaScript 来作为业务场景的需求，直观感受就是相比之前写过的 Java，脚本语言一个明显优势就在于灵活——完全不需要去构造环境，而是直接执行业务逻辑就可以实现效果。有趣的是，JavaScript 的不足也恰恰是编译型语言的优点，这些优点使 C++、Java 等语言在编写复杂应用时候受益：强类型、封装和模块化。

当出现这种情况：二者均拥有各自不同的优势的时候，人们就会考虑将二者的长处结合起来。Java 平台提供了脚本相关的 API。

> 
