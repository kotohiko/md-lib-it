## 1   需求场景概述

金蝶云苍穹某云下 A 应用为主应用，B 应用为子应用。B 应用有可能架设在另外的服务器，即逻辑上是紧密相连的，但是物理层面却有可能是独立的。为了避免用户体验的降低，倘若二者架设在了不同的服务器上，需要实现 A 应用免密登录 B 应用。



## 2   摘要认证概述

根据业务场景，本需求的解决方案决定采用**摘要认证**。

### 2.1   简介

**摘要认证（HTTP Digest Access Authentication）**是一种基于 HTTP 协议的身份验证机制，它提供了一种比基本认证更安全的方式来验证用户身份。在摘要认证中，用户的认证信息不会以明文形式在网络上传输，而是通过「哈希算法」生成一个摘要值进行传输，这样可以增加安全性。

### 2.2   特点

1.  **数据完整性**：由于即使是输入数据中的微小变化也会导致完全不同的输出摘要，因此摘要认证能够有效地检测出数据是否遭到修改。
2.  **不可逆性**：从摘要反推出原文本是非常困难甚至是不可能的，这保证了即使摘要泄露出去也不会轻易暴露原文内容。
3.  **抗碰撞性**：理想的哈希函数应该具有极高的抗碰撞性，即很难找到两份不同但拥有相同摘要的消息。虽然理论上存在碰撞的可能性，但在实际应用中这种可能性非常低。
4.  **快速计算**：对于给定的数据块，可以通过高效的算法迅速地计算出其对应的摘要。
5.  **固定长度输出**：无论输入多长或多短，哈希函数总是产生一个固定大小的输出结果，这对于存储和比较来说都是方便的。

### 2.3   过程

摘要认证通过计算消息或文件的数字摘要（也称为散列值或哈希值）来实现这一点。数字摘要是通过哈希函数从任意长度的数据中生成的一个固定长度的字符串。当发送方发送信息时，会同时发送该信息的摘要。接收方收到信息后，使用相同的哈希函数重新计算所接收到的信息的摘要，并与随信息一起发送过来的原始摘要进行比较。如果两个摘要匹配，则可以认为信息在传输过程中未被篡改。



## 3   功能实现

